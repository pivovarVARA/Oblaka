# Лабораторная работа №1 

### Команда  
- Кунгурова Василиса К34201  
- Кормщикова Варвара К34201  

### Задание
Написать два Dockerfile – плохой и хороший. Плохой должен запускаться и работать корректно, но в нём должно быть не менее 3 “bad practices”. В хорошем Dockerfile они должны быть исправлены. В Readme описать все плохие практики из кода Dockerfile и почему они плохие, как они были исправлены в хорошем Dockerfile, а также две плохие практики по использованию этого контейнера. 
# Dockerfile_bad
Для начала был создан файл Docker_bad, он запускается и работает, однако в нём используются следующие "плохие" практики. Разберем каждую из них:

1. Использование тега "latest" для указания версии образа в Dockerfile не рекомендуется, поскольку это может привести к конфликтам версий при последующих запусках из-за постоянного обновления версий. Вместо этого следует фиксировать конкретную версию образа.
```
FROM python:latest
```

2. Избыточное создание слоев в образе Docker из-за многократного использования команд RUN приводит к увеличению его размера. Это происходит потому, что Docker кэширует каждый слой, добавляя дополнительный объем к общему размеру образа.
```
RUN mkdir hell && cd hell
WORKDIR /hell
```

3. Установка ненужных пакетов в Docker-образ ведет к добавлению избыточных файлов и зависимостей, что, в свою очередь, увеличивает размер конечного образа. Каждый установленный пакет расширяет образ, добавляя дополнительные элементы.
```
RUN apt-get update
RUN apt-get -y upgrade
```

4. Разделяя инструкции ENTRYPOINT и CMD в Dockerfile, можно столкнуться с некоторыми ограничениями и проблемами. ENTRYPOINT задан как ["python3"], а CMD как ["server.py"]. Вместе они определяют команду запуска контейнера как python3 server.py. Для лучшего использования, разделенные команды следует объеденить в одну.
```
ENTRYPOINT ["python3"]
CMD ["server.py"]
```
#### Запуск Dockerfile_bad
![img1](./bad.jpg)

# Dockerfile_good
В хорошем файле были исправлены все bad practices и решение стало качественнее
```
FROM python:alpine

LABEL version="good"

WORKDIR home/web/
COPY ./web-server .

ENTRYPOINT ["python3", "server.py"]
EXPOSE 8080
```
![img1](./good.jpg)
